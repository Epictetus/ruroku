<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ruroku by goshakkk</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ruroku</h1>
        <p>The Ruby client for Heroku API</p>
        <p class="view"><a href="https://github.com/goshakkk/ruroku">View the Project on GitHub <small>goshakkk/ruroku</small></a></p>
        <ul>
          <li><a href="https://github.com/goshakkk/ruroku/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/goshakkk/ruroku/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/goshakkk/ruroku">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>Ruroku</h1>

<p>The Ruby client for Heroku API, built on top of official <code>heroku.rb</code>
gem.</p>

<h2>Installation</h2>

<p>Add this line to your application's Gemfile:</p>

<pre><code>gem 'ruroku'
</code></pre>

<p>And then execute:</p>

<pre><code>$ bundle
</code></pre>

<p>Or install it yourself as:</p>

<pre><code>$ gem install ruroku
</code></pre>

<h2>Usage</h2>

<p>Start by initiating a connection with Heroku API:</p>

<pre><code>heroku = Ruroku::API.new api_key: YOUR_HEROKU_API_KEY
</code></pre>

<p>(You can leave out <code>:api_key</code> if <code>ENV['HEROKU_API_KEY']</code> is set
instead.)</p>

<p>Now you can interact with Heroku API using Ruroku.</p>

<h3>Apps</h3>

<p>Each API object has apps associated with the Heroku account. You can
access an Array of all the associated apps with <code>#apps</code>:</p>

<pre><code>heroku.apps
# =&gt; [#&lt;App&gt;, #&lt;App&gt;, #&lt;App&gt;]

app = heroku.apps.first
</code></pre>

<p>You then can get additional app info:</p>

<pre><code>app.id
app.name
app.stack
app.git_url
app.slug_size
app.repo_size
app.dynos
apps.workers
# and a few less interesting ones
</code></pre>

<p>Maintenance mode can be turned on and off:</p>

<pre><code>app.maintenance!
app.no_maintenance!
</code></pre>

<h3>Addons</h3>

<p>To get a list of addons used by a particular app:</p>

<pre><code>addons = app.addons
# =&gt; [#&lt;Addon&gt;, #&lt;Addon&gt;, #&lt;Addon&gt;]

addon = app.addons.first
</code></pre>

<p>It's possible perform several actions on addon collections:</p>

<h4>Add an addon</h4>

<pre><code>addons.add 'addon:plan'
</code></pre>

<h4>Remove an addon</h4>

<pre><code>addons.delete 'addon-name'
</code></pre>

<h4>Upgrade an addon</h4>

<pre><code>addons.upgrade 'addon:new-plan'
</code></pre>

<p>Each addon object is associated with the application. You can delete
addons from the app by calling <code>#delete</code> method on the addon object as
well:</p>

<pre><code>addon.delete!
</code></pre>

<h3>Collaborators</h3>

<p>List all app collaborators:</p>

<pre><code>collaborators = app.collaborators
</code></pre>

<h4>Add a collaborator</h4>

<pre><code>collaborators.add 'email@me.com'
</code></pre>

<h4>Remove a collaborator</h4>

<pre><code>collaborators.delete 'email@me.com'
</code></pre>

<p>or</p>

<pre><code>collaborator.delete!
</code></pre>

<h3>Config variables</h3>

<p>List all app config vars:</p>

<pre><code>config_vars = app.config_vars
</code></pre>

<p>Add or delete a config var:</p>

<pre><code>config_vars.add 'KEY' =&gt; 'value'
config_vars.delete 'KEY'
</code></pre>

<p>or:</p>

<pre><code>config_var.delete!
</code></pre>

<p>They can also be updated like that:</p>

<pre><code>config_var.value = 'new value'
</code></pre>

<p>And it'll instantly get updated.</p>

<h3>Domains</h3>

<p>Access domains used by the application:</p>

<pre><code>domains = app.domains
</code></pre>

<p>Same as with other collection objects, they can be added or deleted:</p>

<pre><code>domains.add 'domain.com'
domains.delete 'domain.com'
</code></pre>

<p>or:</p>

<pre><code>domain.delete!
</code></pre>

<h3>Processes</h3>

<p>Get current application processes:</p>

<pre><code>processes = app.processes
</code></pre>

<p>You can also run, restart, scale, and stop method collections:</p>

<pre><code>processes.run 'rake evolve'
processes.restart
process.scale 'worker', 10
process.stop 'ps' =&gt; 'run.1'
process.stop 'type' =&gt; 'worker'
</code></pre>

<h3>Releases</h3>

<p>List all app releases:</p>

<pre><code>releases = app.releases
</code></pre>

<p>And rollback to any release:</p>

<pre><code>releases.rollback 'v1'
</code></pre>

<h2>Mock</h2>

<p>For practice or testing you can also use a simulated Heroku:</p>

<pre><code>require 'ruroku'

heroku = Ruroku::API.new api_key: API_KEY, mock: true
</code></pre>

<p>After that commands should still behave the same, but they will only modify some local data instead of updating the state of things on Heroku.</p>

<h2>Contributing</h2>

<ol>
<li>Fork it</li>
<li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li>
<li>Commit your changes (<code>git commit -am 'Added some feature'</code>)</li>
<li>Push to the branch (<code>git push origin my-new-feature</code>)</li>
<li>Create new Pull Request</li>
</ol><h2>License</h2>

<p>Released under the MIT license.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/goshakkk">goshakkk</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>